import{r as c,j as o}from"./client-jcPAbkVI.js";import{S as D,F as I,c as P,W as M,j as T,k as E,l as W,m as O}from"./three.module-DXxcgxC0.js";function N({className:t,isDark:u=!0,style:R}){const e=c.useRef(null),r=c.useRef(null),[n,z]=c.useState({width:0,height:0});return c.useEffect(()=>{if(!e.current)return;const i=new ResizeObserver(()=>{e.current&&z({width:e.current.clientWidth,height:e.current.clientHeight})});return i.observe(e.current),()=>i.disconnect()},[]),c.useEffect(()=>{if(!e.current||n.width===0||n.height===0)return;const i=150,x=40,b=60,p=new D,C=u?0:16777215;p.fog=new I(C,2e3,1e4);const w=new P(60,n.width/n.height,1,1e4);w.position.set(0,355,1220);const s=new M({alpha:!0,antialias:!0});s.setPixelRatio(window.devicePixelRatio),s.setSize(n.width,n.height),s.setClearColor(0,0),e.current.appendChild(s.domElement);const v=[],y=[],l=new T;for(let a=0;a<x;a++)for(let d=0;d<b;d++){const g=a*i-x*i/2,f=0,m=d*i-b*i/2;v.push(g,f,m),u?y.push(.8,.8,.8):y.push(.1,.1,.1)}l.setAttribute("position",new E(v,3)),l.setAttribute("color",new E(y,3));const S=new W({size:8,vertexColors:!0,transparent:!0,opacity:.8,sizeAttenuation:!0}),F=new O(l,S);p.add(F);let h=0,j=0;const A=()=>{j=requestAnimationFrame(A);const a=l.attributes.position,d=a.array;let g=0;for(let f=0;f<x;f++)for(let m=0;m<b;m++){const k=g*3;d[k+1]=Math.sin((f+h)*.3)*50+Math.sin((m+h)*.5)*50,g++}a.needsUpdate=!0,s.render(p,w),h+=.1};return A(),r.current={scene:p,camera:w,renderer:s,geometry:l,animationId:j,count:h},()=>{r.current&&(cancelAnimationFrame(r.current.animationId),r.current.geometry.dispose(),S.dispose(),r.current.renderer.dispose(),e.current&&r.current.renderer.domElement&&e.current.removeChild(r.current.renderer.domElement))}},[n,u]),o.jsx("div",{ref:e,className:t,style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:-1,overflow:"hidden",...R}})}function G(){const[t,u]=c.useState(!0);return o.jsxs("div",{style:{position:"fixed",inset:0,width:"100%",height:"100%",overflow:"hidden",background:t?"#000":"#fff",color:t?"#fff":"#000",transition:"background 0.5s ease",fontFamily:"system-ui, sans-serif"},children:[o.jsx(N,{isDark:t}),o.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:10,pointerEvents:"none"},children:[o.jsx("h1",{style:{fontSize:"4rem",fontWeight:800,letterSpacing:"-0.05em",margin:0},children:"Dotted Surface"}),o.jsx("p",{style:{opacity:.6,fontSize:"1.2rem",marginTop:"1rem"},children:"Three.js Particle Wave Formation"}),o.jsxs("button",{onClick:()=>u(!t),style:{pointerEvents:"auto",marginTop:"3rem",padding:"1rem 2rem",borderRadius:"9999px",border:t?"1px solid rgba(255,255,255,0.2)":"1px solid rgba(0,0,0,0.1)",background:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)",color:"inherit",cursor:"pointer",backdropFilter:"blur(8px)",transition:"all 0.2s ease"},children:["Switch to ",t?"Light":"Dark"," Mode"]})]})]})}export{N as DottedSurface,G as default};
