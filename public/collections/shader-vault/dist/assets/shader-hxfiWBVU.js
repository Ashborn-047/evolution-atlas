import{j as O,r as Q}from"./client-jcPAbkVI.js";const dt=()=>{const i=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],b=new Uint8Array(256),a=new Uint8Array(512),M=new Uint8Array(512);for(let n=0;n<256;n++)b[n]=n;for(let n=0;n<256;n++){const k=Math.floor(Math.random()*(256-n))+n,P=b[n];b[n]=b[k],b[k]=P}for(let n=0;n<512;n++)a[n]=b[n&255],M[n]=a[n]%12;const Z=1/3,h=1/6;return(n,k,P)=>{let I,T,o,z;const e=(n+k+P)*Z,R=Math.floor(n+e),A=Math.floor(k+e),L=Math.floor(P+e),V=(R+A+L)*h,_=R-V,tt=A-V,et=L-V,m=n-_,x=k-tt,f=P-et;let d,w,s,u,l,j;m>=x?x>=f?(d=1,w=0,s=0,u=1,l=1,j=0):m>=f?(d=1,w=0,s=0,u=1,l=0,j=1):(d=0,w=0,s=1,u=1,l=0,j=1):x<f?(d=0,w=0,s=1,u=0,l=1,j=1):m<f?(d=0,w=1,s=0,u=0,l=1,j=1):(d=0,w=1,s=0,u=1,l=1,j=0);const B=m-d+h,F=x-w+h,S=f-s+h,D=m-u+2*h,G=x-l+2*h,$=f-j+2*h,q=m-1+3*h,N=x-1+3*h,X=f-1+3*h,U=R&255,W=A&255,C=L&255,E=M[U+a[W+a[C]]],t=M[U+d+a[W+w+a[C+s]]],r=M[U+u+a[W+l+a[C+j]]],c=M[U+1+a[W+1+a[C+1]]];let g=.6-m*m-x*x-f*f;g<0?I=0:(g*=g,I=g*g*(i[E][0]*m+i[E][1]*x+i[E][2]*f));let p=.6-B*B-F*F-S*S;p<0?T=0:(p*=p,T=p*p*(i[t][0]*B+i[t][1]*F+i[t][2]*S));let y=.6-D*D-G*G-$*$;y<0?o=0:(y*=y,o=y*y*(i[r][0]*D+i[r][1]*G+i[r][2]*$));let v=.6-q*q-N*N-X*X;return v<0?z=0:(v*=v,z=v*v*(i[c][0]*q+i[c][1]*N+i[c][2]*X)),32*(I+T+o+z)}};function ut({particleCount:i=700,rangeY:b=100,baseHue:a=220,baseSpeed:M=0,rangeSpeed:Z=1.5,baseRadius:h=1,rangeRadius:n=2,backgroundColor:k="#000000"}){const P=Q.useRef(null),I=Q.useRef(null),T=Q.useRef(0);return Q.useEffect(()=>{const o=P.current,z=I.current;if(!o||!z)return;const e=o.getContext("2d");if(!e)return;const R=9,A=i*R,L=50,V=150,_=100,tt=3,et=.00125,m=.00125,x=5e-4,f=2*Math.PI;let d=0;const w=dt();let s=new Float32Array(A),u=[0,0];const l=t=>t*Math.random(),j=t=>t-l(2*t),B=(t,r)=>{const c=.5*r;return Math.abs((t+c)%r-c)/c},F=(t,r,c)=>(1-c)*t+c*r,S=()=>{o.width=z.clientWidth,o.height=z.clientHeight,u[0]=.5*o.width,u[1]=.5*o.height},D=t=>{const r=l(o.width),c=u[1]+j(b),g=0,p=0,y=0,v=L+l(V),Y=M+l(Z),nt=h+l(n),H=a+l(_);s.set([r,c,g,p,y,v,Y,nt,H],t)},G=()=>{d=0,s=new Float32Array(A);for(let t=0;t<A;t+=R)D(t)},$=(t,r)=>t>o.width||t<0||r>o.height||r<0,q=(t,r,c,g,p,y,v,Y)=>{e.save(),e.lineCap="round",e.lineWidth=v,e.strokeStyle=`hsla(${Y},100%,60%,${B(p,y)})`,e.beginPath(),e.moveTo(t,r),e.lineTo(c,g),e.stroke(),e.closePath(),e.restore()},N=t=>{const r=1+t,c=2+t,g=3+t,p=4+t,y=5+t,v=6+t,Y=7+t,nt=8+t,H=s[t],J=s[r],st=w(H*et,J*m,d*x)*tt*f,ot=F(s[c],Math.cos(st),.5),rt=F(s[g],Math.sin(st),.5);let K=s[p];const ct=s[y],it=s[v],lt=H+ot*it,at=J+rt*it,ht=s[Y],ft=s[nt];q(H,J,lt,at,K,ct,ht,ft),K++,s[t]=lt,s[r]=at,s[c]=ot,s[g]=rt,s[p]=K,($(H,J)||K>ct)&&D(t)},X=()=>{for(let t=0;t<A;t+=R)N(t)},U=()=>{e.save(),e.filter="blur(8px) brightness(200%)",e.globalCompositeOperation="lighter",e.drawImage(o,0,0),e.restore(),e.save(),e.filter="blur(4px) brightness(200%)",e.globalCompositeOperation="lighter",e.drawImage(o,0,0),e.restore()},W=()=>{e.save(),e.globalCompositeOperation="lighter",e.drawImage(o,0,0),e.restore()},C=()=>{d++,e.clearRect(0,0,o.width,o.height),e.fillStyle=k,e.fillRect(0,0,o.width,o.height),X(),U(),W(),T.current=requestAnimationFrame(C)};S(),G(),C();const E=new ResizeObserver(S);return E.observe(z),()=>{cancelAnimationFrame(T.current),E.disconnect()}},[i,b,a,M,Z,h,n,k]),O.jsx("div",{ref:I,style:{position:"relative",width:"100%",height:"100%"},children:O.jsx("canvas",{ref:P,style:{display:"block",width:"100%",height:"100%"}})})}function pt(){return O.jsxs("div",{style:{minHeight:"100vh",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#000",fontFamily:"system-ui, -apple-system, sans-serif"},children:[O.jsx("div",{style:{position:"absolute",inset:0,zIndex:0},children:O.jsx(ut,{backgroundColor:"#000000",baseHue:220,particleCount:600,rangeY:400})}),O.jsxs("div",{style:{position:"relative",zIndex:10,textAlign:"center",color:"#fff",padding:"2rem"},children:[O.jsx("h1",{style:{fontSize:"3rem",fontWeight:900,letterSpacing:"-0.04em",marginBottom:"1rem"},children:"Vortex Field"}),O.jsx("p",{style:{fontSize:"1.1rem",opacity:.7,maxWidth:"500px",margin:"0 auto"},children:"Simplex noise-driven particle flow with Canvas 2D rendering."})]})]})}export{ut as Vortex,pt as default};
