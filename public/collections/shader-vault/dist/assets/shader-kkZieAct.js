var f=Object.defineProperty;var d=(a,e,r)=>e in a?f(a,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[e]=r;var u=(a,e,r)=>d(a,typeof e!="symbol"?e+"":e,r);import{r as i,j as m}from"./client-jcPAbkVI.js";class p{constructor(e){u(this,"el");u(this,"chars");u(this,"queue");u(this,"frame");u(this,"frameRequest");u(this,"resolve");this.el=e,this.chars="!<>-_\\/[]{}â€”=+*^?#",this.queue=[],this.frame=0,this.frameRequest=0,this.resolve=()=>{},this.update=this.update.bind(this)}setText(e){const r=this.el.innerText,l=Math.max(r.length,e.length),c=new Promise(t=>this.resolve=t);this.queue=[];for(let t=0;t<l;t++){const n=r[t]||"",s=e[t]||"",o=Math.floor(Math.random()*40),h=o+Math.floor(Math.random()*40);this.queue.push({from:n,to:s,start:o,end:h})}return cancelAnimationFrame(this.frameRequest),this.frame=0,this.update(),c}update(){let e="",r=0;for(let l=0,c=this.queue.length;l<c;l++){let{from:t,to:n,start:s,end:o,char:h}=this.queue[l];this.frame>=o?(r++,e+=n):this.frame>=s?((!h||Math.random()<.28)&&(h=this.chars[Math.floor(Math.random()*this.chars.length)],this.queue[l].char=h),e+=`<span style="color: #0f0; opacity: 0.7;">${h}</span>`):e+=t}this.el.innerHTML=e,r===this.queue.length?this.resolve():(this.frameRequest=requestAnimationFrame(this.update),this.frame++)}}const g=()=>{const a=i.useRef(null),e=i.useRef(null),[r,l]=i.useState(!1);return i.useEffect(()=>{a.current&&!e.current&&(e.current=new p(a.current),l(!0))},[]),i.useEffect(()=>{if(r&&e.current){const c=["Hello there","It's RAINING","with letters","and alphabets","dont FORGET to bring","your umbrella today"];let t=0;const n=()=>{e.current&&(e.current.setText(c[t]).then(()=>{setTimeout(n,2e3)}),t=(t+1)%c.length)};n()}},[r]),m.jsx("h1",{ref:a,style:{color:"white",fontSize:"clamp(2rem, 8vw, 6rem)",fontWeight:"bold",letterSpacing:"0.1em",textAlign:"center",fontFamily:"monospace",margin:0},children:"RAINING LETTERS"})},v=()=>{const[a,e]=i.useState([]),[r,l]=i.useState(new Set),c=i.useCallback(()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>?",s=[];for(let o=0;o<300;o++)s.push({char:t[Math.floor(Math.random()*t.length)],x:Math.random()*100,y:Math.random()*100,speed:.1+Math.random()*.3});return s},[]);return i.useEffect(()=>{e(c())},[c]),i.useEffect(()=>{const n=setInterval(()=>{const s=new Set,o=Math.floor(Math.random()*3)+3;for(let h=0;h<o;h++)s.add(Math.floor(Math.random()*a.length));l(s)},50);return()=>clearInterval(n)},[a.length]),i.useEffect(()=>{let t;const n=()=>{e(s=>s.map(o=>({...o,y:o.y+o.speed,...o.y>=100&&{y:-5,x:Math.random()*100,char:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:,.<>? "[Math.floor(Math.random()*63)]}}))),t=requestAnimationFrame(n)};return t=requestAnimationFrame(n),()=>cancelAnimationFrame(t)},[]),m.jsxs("div",{style:{position:"relative",width:"100%",height:"100vh",backgroundColor:"black",overflow:"hidden",fontFamily:"monospace"},children:[m.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:20,width:"100%",padding:"0 1rem"},children:m.jsx(g,{})}),a.map((t,n)=>{const s=r.has(n);return m.jsx("span",{style:{position:"absolute",left:`${t.x}%`,top:`${t.y}%`,transform:`translate(-50%, -50%) ${s?"scale(1.25)":"scale(1)"}`,color:s?"#00ff00":"#475569",fontWeight:s?"bold":"light",fontSize:s?"1.8rem":"1.2rem",textShadow:s?"0 0 8px rgba(255,255,255,0.8), 0 0 12px rgba(255,255,255,0.4)":"none",opacity:s?1:.4,transition:"color 0.1s, transform 0.1s, text-shadow 0.1s",userSelect:"none",pointerEvents:"none",willChange:"transform, top",zIndex:s?10:0},children:t.char},n)})]})};export{v as RainingLetters,v as default};
